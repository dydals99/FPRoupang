<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="com.edu.springboot.jdbc.IReviewService">
 
	<insert id="reviewWrite" >
		INSERT INTO REVIEW 
		(idx, product_idx, bot_cate_idx, member_idx, goods_title, ccomment, star_rate, servey1, servey2, servey3, summary)
		VALUES  
		(REVIEW_seq.nextval, 2, 2, 2, #{goods_title}, #{ccomment}, #{star_rate}, #{servey1}, #{servey2}, #{servey3}, #{summary})
	</insert>

	<select id="reviewView" resultType="com.edu.springboot.jdbc.ReviewDTO"
		parameterType="com.edu.springboot.jdbc.ReviewDTO">
		SELECT * FROM review WHERE idx=#{idx}
		AND goods_title=#{goods_title}
	</select>
 
	<select id="reviewcount" resultType="int">
		SELECT COUNT(*) from review
	</select>

	<select id="reviewList" resultType="com.edu.springboot.jdbc.ReviewDTO">
		SELECT * FROM review order by idx desc
	</select>
 </mapper>